{"version":3,"file":"database.js","sourceRoot":"/","sources":["db/database.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,sDAAgC;AAChC,0CAAyC;AAEzC,sCAAsC;AACtC,UAAU;AACV,0CAA0C;AAC1C,+BAA+B;AAC/B,kCAAkC;AAClC,SAAS;AACT,kCAAkC;AAClC,sBAAsB;AACtB,yCAAyC;AACzC,MAAM;AACN,IAAI;AAEJ,WAAW;AACX,SAAgB,YAAY,CAAC,UAAU;IACrC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC;QAC3B,OAAO,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC;IAC7B,CAAC,CAAC,CAAC;IACH,UAAU,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;IAC7C,UAAU,CAAC,GAAG,CAAC,UAAU,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;AACjD,CAAC;AAND,oCAMC;AAED,EAAE;AACF,IAAI;AACG,IAAM,SAAS,GAAG;;;;;;gBAErB,qBAAM,kBAAQ;yBACX,GAAG,CAAC,OAAO,EAAE,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,aAAa,CAAC;yBACpD,OAAO,CAAC,eAAM,CAAC,EAAE,EAAE;wBAClB,eAAe,EAAE,IAAI;wBACrB,kBAAkB,EAAE,IAAI;qBACzB,CAAC,EAAA;;gBALJ,SAKI,CAAC;gBACL,kBAAQ,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;;;;gBAElC,OAAO,CAAC,KAAK,CAAC,KAAG,CAAC,OAAO,CAAC,CAAC;gBAC3B,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;;;;;KAEnB,CAAC;AAbW,QAAA,SAAS,aAapB","sourcesContent":["import mongoose from \"mongoose\";\nimport { config } from \"../utils/config\";\n\n// export async function connectDB() {\n//   try {\n//     await mongoose.connect(config.db, {\n//       useNewUrlParser: true,\n//       useUnifiedTopology: true,\n//     })\n//     console.log('mongodb 연결완료')\n//   } catch (error) {\n//     console.log('mongoDB 연결에러', error)\n//   }\n// }\n\n//_id => id\nexport function useVirtualId(userSchema) {\n  userSchema.virtual(\"id\").get(function () {\n    return this._id.toString();\n  });\n  userSchema.set(\"toJSON\", { virtuals: true });\n  userSchema.set(\"toObject\", { virtuals: true });\n}\n\n//\n////\nexport const connectDB = async () => {\n  try {\n    await mongoose\n      .set(\"debug\", process.env.NODE_ENV === \"development\")\n      .connect(config.db, {\n        useNewUrlParser: true,\n        useUnifiedTopology: true,\n      });\n    mongoose.Promise = global.Promise;\n  } catch (err) {\n    console.error(err.message);\n    process.exit(1);\n  }\n};\n"]}